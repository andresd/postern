endpoints:
  - id: 1
    path: api/v1/auth/login2
    method: POST
    responses:
      - endpointId: 1
        id: 1
        statusCode: 200
        isActive: true
        template: |
          {
            "data": {
              "refresh": "refresh",
              "access": "access"
            }
          }
        headers: []
        rules: []
      - endpointId: 1
        id: 2
        statusCode: 302
        isActive: true
        template: Successful
    description: Login
    redirectEnabled: false
    redirect: ""
    reUseQueryStringInRedirect: false
    ignoreQueryParams: true
    isActive: false
  - id: 2
    description: Refresh token
    path: api/v1/auth/refresh_token
    method: POST
    responses:
      - endpointId: 1
        id: 1
        statusCode: 200
        isActive: true
        template: |
          {
            "data": {
              "access": "access"
            }
          }
    redirectEnabled: false
    redirect: ""
  - id: 3
    description: null
    path: api/v1/users/me
    method: GET
    ignoreQueryParams: true
    responses:
      - endpointId: 3
        id: 1
        statusCode: 200
        isActive: true
        template: |
          {
            "data": {
              "user": {
                "id": "1",
                "firstname": null,
                "lastname": null,
                "email": "test@tester.com",
                "timezone": "Asia/Jerusalem",
                "role": null,
                "country": "IL",
                "user_agreements": {
                  "policy": { "version": "0.0.2" }
                }
              },
              "customer": {
                "id": "1",
                "name": "Customero",
                "domain": "customero.com",
                "onboarding_complete": false,
                "address": {
                  "country": "Israel"
                }
              }
            }
          }
        rules: []
        headers:
          - enabled: true
            key: Content-Type
            value: application/json
    redirectEnabled: false
    redirect: ""
    isActive: false
  - id: 4
    description: null
    path: api/v1/users/accept_policies
    method: POST
    responses:
      - id: 1
        isActive: 1
        endpointId: 3
        queryParamCondition: null
        template: |
          {
            "data": {
            }
          }
        statusCode: 200
        headers: null
    redirectEnabled: false
    ignoreQueryParams: true
    redirect: ""
  - description: null
    path: api/v1/stats/payments/month_by_month2
    method: POST
    ignoreQueryParams: 1
    responses:
      - isActive: 1
        queryParamCondition: null
        template: |
          {
            "data": {
              "current": {
                "month": "2022-04-1",
                "verdict_summary": {
                  "suspicious": {{faker 'datatype.number(5)'}},
                  "approved": {{faker 'datatype.number(500)'}},
                  "processing": {{faker 'datatype.number(100)'}}
                },
                "incidents": 0,
                "transactions_count": {{faker 'datatype.number'}},
                "trusted_percentage": {{faker 'datatype.number(100)'}}
              },
              "previous": {
                "month": "2022-03-1",
                "verdict_summary": {
                  "suspicious": {{faker 'datatype.number(5)'}},
                  "approved": {{faker 'datatype.number(500)'}},
                  "processing": {{faker 'datatype.number(100)'}}
                },
                "incidents": 0,
                "transactions_count": {{faker 'datatype.number'}},
                "trusted_percentage": {{faker 'datatype.number(100)'}}
              }
            }
          }
        statusCode: 200
        headers: null
        id: 1
    id: 5
    redirectEnabled: false
    redirect: ""
    isActive: false
  - id: 6
    description: null
    path: api/v1/stats/payments/top2
    method: POST
    ignoreQueryParams: 1
    responses:
      - id: 1
        isActive: 1
        endpointId: 2
        queryParamCondition: null
        template: |
          {
            "data": {
              "payments": [
                {{#duplicate 10}}
                {
                  "id": "{{faker 'finance.bitcoinAddress'}}",
                  "created_date": "{{faker 'date.past'}}",
                  "approved_date": "{{faker 'date.past'}}",
                  "invoice_number": "{{faker 'datatype.number(100000000)'}}",
                  {{setvar 'the_amount=datatype.number(100000000)'}}
                  "amount": {
                    "raw": "USD {{getvar 'the_amount'}}",
                    "value": {{getvar 'the_amount'}},
                    "currency": "USD"
                  },
                  "converted_amount": {
                    "value": {{getvar 'the_amount'}},
                    "currency": "USD"
                  },
                  "payee": {
                      "domain": "{{faker 'internet.domainName'}}",
                      "name": "{{faker 'name.findName'}}",
                      "contact_data": {
                        "email_address": "{{faker 'internet.email'}}",
                        "email_name": "{{faker 'name.findName'}}",
                        "phone": "string",
                        "address": "string"
                      },
                      "financial_data": { {{setvar 'iban_payee=finance.iban'}}
                        "iban": "{{getvar 'iban_payee'}}",
                        "swift": "string",
                        "bank_account": "{{faker 'finance.account'}}",
                        "bank_name": "Bank of {{faker 'address.county'}}",
                        "beneficiary_name": "{{faker 'finance.accountName'}}",
                        "ach": "string",
                        "routing_number": "{{faker 'finance.routingNumber'}}"
                      },
                      "geolocations": [{
                        {{setvar 'countryCode=address.countryCode'}}
                        "id": "{{getvar 'iban_payee'}}",
                        "type": "iban",
                        "country_code": "{{getvar 'countryCode'}}",
                        "latitude": {{geo 'countryCode, latitude'}},
                        "longitude": {{geo 'countryCode, longitude'}},
                        "country_name": "{{geo 'countryCode, country'}}"
                      }],
                      "is_trusted": {{faker 'datatype.boolean'}},
                      "is_new": {{faker 'datatype.boolean'}},
                      "is_risky": {{faker 'datatype.boolean'}}
                  },
                  "payer": {
                      "domain": "{{faker 'internet.domainName'}}",
                      "name": "{{faker 'name.findName'}}",
                      "contact_data": {
                        "email_address": "{{faker 'internet.email'}}",
                        "email_name": "{{faker 'name.findName'}}",
                        "phone": "string",
                        "address": "string"
                      },
                      "financial_data": { {{setvar 'iban_payer=finance.iban'}}
                        "iban": "{{getvar 'iban_payer'}}",
                        "swift": "string",
                        "bank_account": "{{faker 'finance.account'}}",
                        "bank_name": "Bank of {{faker 'address.county'}}",
                        "beneficiary_name": "{{faker 'finance.accountName'}}",
                        "ach": "string",
                        "routing_number": "{{faker 'finance.routingNumber'}}"
                      },
                      "geolocations": [{
                        {{setvar 'countryCode=address.countryCode'}}
                        "id": "{{getvar 'iban_payee'}}",
                        "type": "iban",
                        "country_code": "{{getvar 'countryCode'}}",
                        "latitude": "{{geo 'countryCode, latitude'}}",
                        "longitude": "{{geo 'countryCode, longitude'}}",
                        "country_name": "{{geo 'countryCode, country'}}"
                      }]
                  },
                  "verdict" : {
                    "status": "{{oneOf 'approved|not approved|pending'}}",
                    "score": {{faker 'datatype.number(100)'}},
                    "details": "{{faker 'random.words(4)'}}"
                  },
                  "time_saved": {
                    "value": {{faker 'datatype.number'}}
                  },
                  "origin": {{oneOf 'EMAIL|ERP|MANUAL'}}
                }
                {{/duplicate}}
              ]
            }
          }
        statusCode: 200
        headers: null
    redirectEnabled: false
    reUseQueryStringInRedirect: true
    redirect: ""
  - id: 7
    description: Get Transactions
    path: api/v1/stats/payments
    method: POST
    responses:
      - endpointId: 9
        id: 1
        statusCode: 200
        isActive: true
        template: |
          {
            "data": {
              "payments": [
                {{#duplicate 10}}
                {
                  "id": "{{faker 'finance.bitcoinAddress'}}",
                  "created_date": "{{faker 'date.past'}}",
                  "approved_date": "{{faker 'date.past'}}",
                  "invoice_number": "{{faker 'datatype.number(100000000)'}}",
                  {{setvar 'the_amount=datatype.number(100000000)'}}
                  "amount": {
                    "raw": "USD {{getvar 'the_amount'}}",
                    "value": {{getvar 'the_amount'}},
                    "currency": "USD"
                  },
                  "converted_amount": {
                    "value": {{getvar 'the_amount'}},
                    "currency": "USD"
                  },
                  "payee": {
                      "domain": "{{faker 'internet.domainName'}}",
                      "name": "{{faker 'name.findName'}}",
                      "contact_data": {
                        "email_address": "{{faker 'internet.email'}}",
                        "email_name": "{{faker 'name.findName'}}",
                        "phone": "string",
                        "address": "string"
                      },
                      "financial_data": { {{setvar 'iban_payee=finance.iban'}}
                        "iban": "{{getvar 'iban_payee'}}",
                        "swift": "string",
                        "bank_account": "{{faker 'finance.account'}}",
                        "bank_name": "Bank of {{faker 'address.county'}}",
                        "beneficiary_name": "{{faker 'finance.accountName'}}",
                        "ach": "string",
                        "routing_number": "{{faker 'finance.routingNumber'}}"
                      },
                      "geolocations": [{
                        {{setvar 'countryCode=address.countryCode'}}
                        "id": "{{getvar 'iban_payee'}}",
                        "type": "iban",
                        "country_code": "{{getvar 'countryCode'}}",
                        "latitude": {{geo 'countryCode, latitude'}},
                        "longitude": {{geo 'countryCode, longitude'}},
                        "country_name": "{{geo 'countryCode, country'}}"
                      }],
                      "is_trusted": {{faker 'datatype.boolean'}},
                      "is_new": {{faker 'datatype.boolean'}},
                      "is_risky": {{faker 'datatype.boolean'}}
                  },
                  "payer": {
                      "domain": "{{faker 'internet.domainName'}}",
                      "name": "{{faker 'name.findName'}}",
                      "contact_data": {
                        "email_address": "{{faker 'internet.email'}}",
                        "email_name": "{{faker 'name.findName'}}",
                        "phone": "string",
                        "address": "string"
                      },
                      "financial_data": { {{setvar 'iban_payer=finance.iban'}}
                        "iban": "{{getvar 'iban_payer'}}",
                        "swift": "string",
                        "bank_account": "{{faker 'finance.account'}}",
                        "bank_name": "Bank of {{faker 'address.county'}}",
                        "beneficiary_name": "{{faker 'finance.accountName'}}",
                        "ach": "string",
                        "routing_number": "{{faker 'finance.routingNumber'}}"
                      },
                      "geolocations": [{
                        {{setvar 'countryCode=address.countryCode'}}
                        "id": "{{getvar 'iban_payee'}}",
                        "type": "iban",
                        "country_code": "{{getvar 'countryCode'}}",
                        "latitude": "{{geo 'countryCode, latitude'}}",
                        "longitude": "{{geo 'countryCode, longitude'}}",
                        "country_name": "{{geo 'countryCode, country'}}"
                      }]
                  },
                  "verdict" : {
                    "status": "{{oneOf 'approved|not approved|pending'}}",
                    "score": {{faker 'datatype.number(100)'}},
                    "details": "{{faker 'random.words(4)'}}"
                  },
                  "time_saved": {
                    "value": {{faker 'datatype.number'}}
                  },
                  "origin": {{oneOf 'EMAIL|ERP|MANUAL'}}
                }
                {{/duplicate}}
              ]
            }
          }
    redirectEnabled: true
    redirect: ""
  - id: 8
    description: Empty endpoint
    path: api/v1/stats/transactions/summary2
    method: POST
    responses:
      - endpointId: 10
        id: 1
        statusCode: 200
        isActive: true
        template: |-
          {
            "data": {
              "trusted_percentage": {{faker 'datatype.number(100)'}},
              "payments": {
                "count": {{faker 'datatype.number(10000)'}},
                "sum": {
                  "raw": "$20000000",
                  "value": {{faker 'datatype.number(10000000)'}},
                  "currency": "USD"
                }
              },
              "vendors": {
                "count": {{faker 'datatype.number(15000)'}},
                "new": {{faker 'datatype.number(300)'}},
              },
              "top_transactions": {
                "US": {{faker 'datatype.number(500000)'}},
                "GB": {{faker 'datatype.number(500000)'}},
                "CN": {{faker 'datatype.number(500000)'}}
              },
              "verdicts": {
                "unknown": {{faker 'datatype.number(200)'}},
                "processing": {{faker 'datatype.number(50)'}},
                "unverified": {{faker 'datatype.number(50)'}},
                "verified": {{faker 'datatype.number(5000)'}},
              }
            }
          }
        headers:
          - enabled: true
            key: Content-Type
            value: application/json
    redirectEnabled: false
    isActive: true
  - id: 9
    description: Vendors Summary
    path: api/v1/vendors/summary2
    method: POST
    responses:
      - endpointId: 10
        id: 1
        statusCode: 200
        isActive: true
        template: |-
          {
            "data": {
              "trusted_percentage": {{faker 'datatype.number(100)}},
              "payments": {
                "count": {{faker 'datatype.number(10000)'}},
                "sum": {
                  "raw": "$20000000",
                  "value": {{faker 'datatype.number(10000000)'}},
                  "currency": "USD"
                }
              },
              "vendors": {
                "count": {{faker 'datatype.number(15000)'}},
                "new": {{faker 'datatype.number(300)'}},
              },
              "top_transactions": {
                "US": {{faker 'datatype.number(500000)'}},
                "GB": {{faker 'datatype.number(500000)'}},
                "CN": {{faker 'datatype.number(500000)'}}
              },
              "verdicts": {
                "unknown": {{faker 'datatype.number(200)'}},
                "processing": {{faker 'datatype.number(50)'}},
                "unverified": {{faker 'datatype.number(50)'}},
                "verified": {{faker 'datatype.number(5000)'}},
              }
            }
          }
    redirectEnabled: false
  - id: 10
    description: Top Vendors
    path: api/v1/stats/vendors/top
    method: GET
    responses:
      - endpointId: 6
        id: 1
        statusCode: 200
        isActive: true
        template: >
          {
            "data": {
              "vendors": [
                {{#duplicate 10}}
                {
                  "id": "{{faker 'finance.bitcoinAddress'}}",
                  "created_date": "{{faker 'date.past'}}",
                  "details": {
                      "domain": "{{faker 'internet.domainName'}}",
                      "name": "{{faker 'name.findName'}}",
                      "contact_data": {
                        "email_address": "{{faker 'internet.email'}}",
                        "email_name": "{{faker 'name.findName'}}",
                        "phone": "string",
                        "address": "string"
                      },
                      "financial_data": { {{setvar 'iban_payee=finance.iban'}}
                        "iban": "{{getvar 'iban_payee'}}",
                        "swift": "string",
                        "bank_account": "{{faker 'finance.account'}}",
                        "bank_name": "Bank of {{faker 'address.county'}}",
                        "beneficiary_name": "{{faker 'finance.accountName'}}",
                        "ach": "string",
                        "routing_number": "{{faker 'finance.routingNumber'}}",
                        "geolocations": { {{setvar 'countryCode=address.countryCode'}}
                          "country_code": "{{getvar 'countryCode'}}",
                          "latitude": {{geo 'countryCode, latitude'}},
                          "longitude": {{geo 'countryCode, longitude'}},
                          "country_name": "{{geo 'countryCode, country'}}"
                        }
                      },
                      "is_trusted": {
                        "value": {{faker 'datatype.boolean'}}
                      },
                      "is_new": {
                        "value": {{faker 'datatype.boolean'}}
                      },
                      "is_risky": {
                        "value": {{faker 'datatype.boolean'}}
                      }
                  },
                  "total_payments": {
                    "value": {{faker 'datatype.number(100000000)'}}
                  },
                  "total_transactions_count": {
                    "value": {{faker 'datatype.number(100)'}}
                  }
                }
                {{/duplicate}}
              ]
            }
          }
    redirectEnabled: false
  - id: 11
    description: "Vendor Details "
    path: api/v1/stats/vendors/details
    method: GET
    responses:
      - endpointId: 8
        id: 1
        statusCode: 200
        isActive: true
        template: Successful
    redirectEnabled: false
    reUseQueryStringInRedirect: true
    redirect: ""
  - id: 12
    description: System Activity
    path: api/v1/stats/activity/details
    method: GET
    responses:
      - endpointId: 9
        id: 1
        statusCode: 200
        isActive: true
        template: |-
          {
            "data":
            {
              "activities": [
              {{#duplicate 10}}
              {
                "message": "{{faker 'random.words(3)'}}",
                "message_type": "{{oneOf 'info|incident|none'}}",
                "created_at": "{{faker 'date.past'}}",
                "count": null
              }
              {{/duplicate}}
            ]
          }
          }
    redirectEnabled: true
    redirect: https://predashboardapi.trustmi.ai/api/v1/stats/activity/details
    reUseQueryStringInRedirect: false
  - id: 13
    description: SSP token and name validat
    path: api/ssp/validate/
    method: GET
    responses:
      - endpointId: 13
        id: 1
        statusCode: 200
        isActive: true
        template: |-
          {
            "data": {
              "is_valid": true
            }
          }
        rules:
          - enabled: true
            type: querystring
            path: token
            operator: equals
            value: "123456"
          - enabled: true
            type: querystring
            path: name
            operator: equals
            value: Zubik
        description: valid token and name
      - endpointId: 13
        id: 2
        statusCode: 400
        isActive: true
        template: |-
          {
            "data": {
              "is_valid": false
            }
          }
        rules:
          - enabled: true
            type: querystring
            path: token
            operator: not
            value: "112345"
        description: invalid token
    redirectEnabled: false
  - id: 14
    name: Empty endpoint
    path: api/ssp/save
    method: POST
    responses:
      - endpointId: 14
        id: 1
        statusCode: 200
        isActive: true
        template: |
          {
            "data": {
              "id": "12345678990"
            }
          }
        rules: []
    redirectEnabled: false
    description: Save ssp details
    isActive: false
port: 3004
forwardProxy: https://dashboardapi.trustmi.ai
